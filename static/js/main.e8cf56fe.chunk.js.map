{"version":3,"sources":["assets/Logo-kadaster.png","routes/components/StartScreen.js","routes/components/ResultScreen.js","network/allClasses.js","model/Resultaat.js","network/Communicators/CommunicatorPDOK.js","network/ReformatMethods.js","network/Communicators/CommunicatorTRIPLY.js","network/Communicators/ClickedCommunicator.js","network/Communicator.js","routes/components/ObjectScreen.js","routes/Routes.js","components/NavBar.js","components/Loader.js","model/ResultatenHouder.js","model/ClickedResultaat.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","StartScreen","className","href","React","Component","ResultScreen","elements","this","props","res","getDoubleResults","length","getResults","map","pElementHoofd","pElementSub","getNaam","getType","String","fromCharCode","key","getUrl","onClick","onClickItem","classes","getIndexOfClasses","indexOf","Resultaat","url","naam","type","geoJson","_url","_naam","_type","_geoJson","_subscribers","geojson","upDateSubScribers","subscriber","update","push","filter","subscriberList","properties","geometry","getGeoJson","latestString","getMatch","text","a","queryPDOK","query","firstLetterCapital","exactMatch","makeSearchScreenResults","JSON","parse","undefined","status","result","mergeResults","getAllAttribtes","clickedRes","nodes","results","bindings","types","overigeAttributen","console","log","i","stripUrlToType","prd","value","obj","replace","naamNl","naamFries","naamOfficieel","formattedKey","seperateUpperCase","veranderNaarJaNee","unshift","indexes","index","loadInAttributes","string","split","forEach","arr","charAt","toLowerCase","slice","join","returnObject","queryString","resultaatObj","then","resOr","brugnaam","tunnelnaam","sluisnaam","knooppuntnaam","naamPlaats","toUpperCase","includes","j","sort","b","wktJson","wellKnown","setSecondProperties","s","startsWith","substring","exact","regex","resexact","resregex","concat","fetch","method","headers","body","queryTriply","getFromCoordinates","lat","long","top","left","bottom","right","queryForCoordinates","righ","latestMethod","CommunicatorTRIPLY","CommunicatorPDOK","ClickedCommunicator","ObjectScreen","getNamenGegevens","Communicator","clickedResult","setState","state","tableNamen","tableRest","naamOfficeel","getTypeString","getNaamFries","getNaamOfficieel","getNaamNl","attributes","getAttributes","Routes","path","component","render","EmptyBar","class_","loading","BackButton","onBack","NavBar","Loader","width","color","height","ResultatenHouder","_results","_doubleClickedResults","_clickedResult","clicked","subscribe","unsubscribe","getAsFeature","ClickedResultaat","overige","_res","_naamOfficieel","_naamNL","_naamFries","_types","_overige","naamnl","naamfries","App","mapInit","L","minZoom","center","zoom","maxBounds","tileLayer","attribution","addTo","on","handleRightMouseClick","geoJsonLayer","geoJSON","onEachFeature","handleGeoJsonLayerDrawing","pointToLayer","addMarker","markerGroup","featureGroup","e","latLong","latlng","match","matchPath","location","pathname","strict","searchQuery","clearAll","history","goBack","bounds","getBounds","isFetching","lng","getNorth","getWest","getSouth","getEast","setDoubleResults","feature","marker","bindPopup","autoPan","closeButton","openPopup","closePopup","layer","getCenterGeoJson","setClickedResult","getZoom","setView","centroid","turf","lon","coordinates","onSearchChange","data","clearClickedResult","clearDoubleResults","doSearch","go","trim","currentSelected","setResults","handleDeleteClick","handleOnBackButtonClick","timeout","getTimeOut","setTimeout","fitBounds","pad","setZoom","updateIng","getClickedResult","updateMap","dropDownSelector","v","clearLayers","addData","geoJsonResults","getClickedAllObjectsAsFeature","getSearchedAllObjectsAsFeature","icon","options","description","Icon","name","link","to","src","KadasterImg","alt","Search","input","fluid","noResultsMessage","open","onFocus","Dropdown","upward","Menu","Header","content","Divider","option","Item","active","id","withRouter","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8cf56fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo-kadaster.5d975e1b.png\";","import React from 'react';\r\n\r\nclass StartScreen extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"startScreen\">\r\n                <p className=\"boldHeaderText\">Hoe werkt het?</p>\r\n                <p className=\"explainText\">Je kan een naam zoeken in het zoekveld. Dit kan bijvoorbeeld je gemeente, of buurt naam zijn. Probeer\r\n                    verschillende dingen en zie wat je kan ontdekken. Ook kan je zoeken met de kaart. Klik met de rechtermuis knop op de kaart en zie wat er gebeurt.\r\n                 Als je verder bent ingezoomt, krijg je ook nauwkeurigere klik resultaten.</p>\r\n                <p className=\"boldHeaderText\">Wat is het?</p>\r\n                <p className=\"explainText\">Dit is een applicatie die objecten uit de brt haalt. Denk hierbij\r\n                    aan buurten, straaten, meren en zelf bomen. Deze objecten hebben allemaal een naam.\r\n                    Aan de hand van deze naam kan je de objecten ophalen. Deze objecten hebben ook andere\r\n                    eigenschappen die je kunt bekijken. (nog aanvullen)</p>\r\n                <p className=\"boldHeaderText\">Wie doe dit?</p>\r\n                <p className=\"explainText\">brt (nog aanvullen)</p>\r\n                <p className=\"boldHeaderText\">Andere leuke dingen gedaan met de brt</p>\r\n                <p className=\"explainText\"><a href=\"https://labs.kadaster.nl/stories/religieuze-gebouwen/\">Datastroy\r\n                    religieuze gebouwen</a> waar brt informatie over religieuze gebouwen wordt getoond op een\r\n                    interactieve manier.</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StartScreen;","import React from 'react';\r\n\r\nclass ResultScreen extends React.Component {\r\n    render() {\r\n\r\n        let results = this.props.res.getDoubleResults().length > 0 ? this.props.res.getDoubleResults() : this.props.res.getResults();\r\n\r\n        let elements = results.map(res => {\r\n            let pElementHoofd = (<p className= \"hoofdText\">&nbsp;</p>)\r\n            let pElementSub = (<p className= \"subText\">&nbsp;</p>)\r\n\r\n            if(res.getNaam()){\r\n                pElementHoofd = (<p className= \"hoofdText\">{res.getNaam()}</p>);\r\n            }\r\n\r\n            if(res.getType()){\r\n                pElementSub = (<p className= \"subText\">{res.getType() ? res.getType() : String.fromCharCode(32)}</p>);\r\n            }\r\n\r\n            return (<li key={res.getUrl() + res.getNaam()}\r\n                        className=\"liResultScreen\"\r\n                        onClick={() => {this.props.onClickItem(res)}}>\r\n                {pElementHoofd}\r\n                {pElementSub}\r\n            </li>)\r\n        });\r\n\r\n        return(\r\n            <div className=\"homeScreen\">\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultScreen;","/**\r\n * Een file die alle classen van de brt bevat.\r\n * @type {*[]}\r\n */\r\n\r\nlet classes = [\"Grasland\", \"BosGemengdBos\", \"Akkerland\", \"BosNaaldbos\", \"Dodenakker\", \"BosLoofbos\", \"Spoorbaanlichaam\", \"Heide\", \"BebouwdGebied\", \"Populieren\", \"Boomgaard\", \"Boomkwekerij\", \"Zand\", \"Duin\", \"Fruitkwekerij\", \"BasaltblokkenSteenglooiing\", \"BosGriend\", \"Braakliggend\", \"Aanlegsteiger_terrein\", \"DodenakkerMetBos\", \"BronWel\", \"GreppelDrogeSloot\", \"Waterloop\", \"MeerPlas\", \"Droogvallend\", \"Droogvallend_LAT\", \"Zee_waterdeel\", \"KasWarenhuis\", \"Tank\", \"Huizenblok\", \"KloosterAbdij\", \"Zwembad_gebouw\", \"Sporthal\", \"ParkeerdakParkeerdekParkeergarage\", \"Gemeentehuis\", \"Toren\", \"WindmolenKorenmolen\", \"Gemaal\", \"Kapel\", \"Uitzichttoren\", \"Pompstation\", \"Manege\", \"Fort\", \"Rune\", \"Transformatorstation_gebouw\", \"Tankstation\", \"Museum\", \"Kasteel\", \"School\", \"Waterradmolen\", \"Ziekenhuis\", \"Postkantoor\", \"Bunker\", \"Koeltoren\", \"Vuurtoren\", \"Watertoren\", \"WindmolenWatermolen\", \"Universiteit\", \"RadiotorenTelevisietoren\", \"Bezoekerscentrum\", \"PsychiatrischZiekenhuisPsychiatrischCentrum\", \"Gevangenis\", \"Elektriciteitscentrale\", \"Politiebureau\", \"Radarpost\", \"Schaapskooi\", \"Lichttoren\", \"Werf_gebouw\", \"Radartoren\", \"Dok\", \"Veiling\", \"Fabriek\", \"Peilmeetstation\", \"Windmolen\", \"Schoorsteen\", \"Crematorium\", \"Stadion\", \"Paleis\", \"Kunstijsbaan\", \"Telecommunicatietoren\", \"Klokkentoren\", \"Zendtoren\", \"Brandweerkazerne\", \"Stationsgebouw\", \"MarkantGebouw\", \"Reddingboothuisje\", \"KliniekInrichtingSanatorium\", \"Recreatiecentrum\", \"Verkeerstoren\", \"Koepel\", \"KerncentraleKernreactor\", \"StadskantoorHulpsecretarie\", \"Hotel\", \"Remise\", \"Kerk\", \"Brandtoren\", \"Luchtwachttoren\", \"Silo\", \"Moskee\", \"OverigReligieusGebouw\", \"Synagoge\", \"MilitairGebouw\", \"Windturbine\", \"Tol_gebouw\", \"Boortoren\", \"Observatorium\", \"Wegrestaurant\", \"Bomenrij\", \"Koedam\", \"HegHaag\", \"Aanlegsteiger_inrichtingselement\", \"Hekwerk\", \"Wegafsluiting\", \"Verkeersgeleider\", \"Stuw\", \"Muur\", \"Geluidswering\", \"StrekdamKribGolfbreker\", \"Hoogspanningsleiding\", \"Sluisdeur\", \"Schietbaan\", \"Kabelbaan\", \"Paalwerk\", \"Stormvloedkering\", \"Tol_inrichtingselement\", \"Boom\", \"Strandpaal\", \"Hoogspanningsmast\", \"Wegwijzer\", \"Grenspunt\", \"Kruis\", \"Pijler\", \"Kilometerraaibord\", \"Paal\", \"Zendmast\", \"Kilometerpaal\", \"Windmolentje\", \"Dukdalf\", \"Peilschaal\", \"Scheepvaartlicht\", \"Botenhelling\", \"KilometerpaalWater\", \"KogelvangerSchietbaan\", \"GedenktekenMonument\", \"KilometerpaalSpoorweg\", \"Radiotelescoop\", \"MarkantObject\", \"Seinmast\", \"GpsKernnetpunt\", \"Kilometerraaipaal\", \"Klokkenstoel\", \"Vlampijp\", \"Busstation\", \"Oliepompinstallatie\", \"Hunebed\", \"Uitzichtpunt\", \"Baak\", \"ZichtbaarWrak\", \"Golfmeetpaal\", \"Helikopterlandingsplatform\", \"Kraan\", \"Gaswinning_inrichtingselement\", \"Metrostation\", \"Treinstation\", \"Sneltramhalte\", \"Kaap\", \"Havenhoofd\", \"Vliedberg\", \"Kabelbaanmast\", \"Plaatsnaambord\", \"Calamiteitendoorgang\", \"Leiding\", \"Luchtvaartlicht\", \"Radiobaken\", \"RdPunt\", \"Weg\", \"Spoor\", \"Water\", \"Wijk\", \"Buurtschap\", \"Gehucht\", \"Deelkern\", \"Buurt\", \"Woonkern\", \"Industriekern\", \"Recreatiekern\", \"Stadsdeel\", \"TaludHoogteverschil\", \"SteileRandAardrand\", \"Wal\", \"Trein\", \"Metro\", \"Tram\", \"Sneltram\", \"Gemengd\", \"Werf_functioneelGebied\", \"Park\", \"Gebouwencomplex\", \"Haven_functioneelGebied\", \"Natuurgebied\", \"Landgoed\", \"Infiltratiegebied\", \"Verdedigingswerk\", \"Boswachterij\", \"Tennispark\", \"Bedrijventerrein\", \"Eendenkooi\", \"Woonwagencentrum\", \"Transformatorstation_functioneelGebied\", \"Zuiveringsinstallatie\", \"SportterreinSportcomplex\", \"Begraafplaats\", \"Wildwissel\", \"Jachthaven\", \"Stortplaats\", \"Bungalowpark\", \"CampingKampeerterrein\", \"Heemtuin\", \"Volkstuinen\", \"Vakantiepark\", \"Sluizencomplex\", \"Ijsbaan\", \"DierentuinSafaripark\", \"Zenderpark\", \"Circuit\", \"Viskwekerij_functioneelGebied\", \"Ziekenhuiscomplex\", \"Verzorgingsplaats\", \"Openluchtmuseum\", \"Crossbaan\", \"Openluchttheater\", \"Waterkering\", \"Mosselbank\", \"Milieustraat\", \"Kassengebied\", \"VliegveldLuchthaven\", \"BotanischeTuin\", \"Golfterrein\", \"Zonnepark\", \"Kartingbaan\", \"Caravanpark\", \"Visvijvercomplex\", \"Erebegraafplaats\", \"KazerneLegerplaats\", \"MilitairOefengebiedSchietterrein\", \"ZwembadComplex\", \"Gaswinning_functioneelGebied\", \"Zweefvliegveldterrein\", \"Renbaan\", \"Attractiepark\", \"Grafheuvel\", \"Windturbinepark\", \"Tuincentrum\", \"Zandwinning\", \"Recreatiegebied\", \"Skibaan\", \"Productie-installatie\", \"Groeve\", \"Campus\", \"Helikopterlandingsterrein\", \"Zoutwinning\", \"GebiedVoorRadioastronomie\", \"NationaalPark\", \"Grindwinning\", \"Slipschool\", \"Emplacement\", \"Mijn\", \"Oliewinning\", \"Plantsoen\", \"Arboretum\", \"GebiedMetHogeObjecten\", \"NatuurgebiedNatuurreservaat\", \"Veerverbinding\", \"Autosnelweg\", \"RegionaleWeg\", \"Hoofdweg\", \"LokaleWeg\", \"Straat\", \"ParkeerplaatsCarpool\", \"Parkeerplaats\", \"RolbaanPlatform\", \"StartbaanLandingsbaan\", \"ParkeerplaatsPR\", \"Polder\", \"StreekVeld\", \"Bosgebied\", \"GeulVaargeul\", \"Heidegebied\", \"HeuvelBerg\", \"BankOndieptePlaat\", \"ZeegatZeearm\", \"Eiland\", \"KaapHoek\", \"Duingebied\", \"Zee_geografischGebied\", \"Wad\", \"TerpWierde\", \"Watergebied\", \"Hoogtepunt\", \"Dieptepunt\", \"Peil\", \"PeilWinterpeil\", \"PeilZomerpeil\", \"Laagwaterlijn\", \"Hoogtelijn\", \"Dieptelijn\", \"Hoogwaterlijn\", \"Gemeente\", \"Provincie\", \"Land\", \"TerritorialeZee\", \"Waterschap\", \"Overig_terrein\", \"Overig_waterdeel\", \"Overig_gebouw\", \"Overig_inrichtingselement\", \"Overig_planTopografie\", \"Overig_functioneelGebied\", \"Overig_wegdeel\", \"Overig_geografischGebied\", \"Terrein\", \"Waterdeel\", \"Gebouw\", \"Inrichtingselement\", \"PlanTopografie\", \"Plaats\", \"Relief\", \"Spoorbaandeel\", \"FunctioneelGebied\", \"Wegdeel\", \"GeografischGebied\", \"Hoogte\", \"RegistratiefGebied\"];\r\n\r\n/**\r\n * Hier kan je de index opvragen van een element in de array\r\n * @param className string\r\n * @returns {number}\r\n */\r\nexport default function getIndexOfClasses(className) {\r\n    return classes.indexOf(className);\r\n}\r\n\r\n","/**\r\n * Een resultaat op het resultaten scherm.\r\n */\r\nclass Resultaat {\r\n    constructor(url , naam, type, geoJson){\r\n        this._url = url;\r\n\r\n        this._naam = naam;\r\n        this._type = type;\r\n        this._geoJson = geoJson;\r\n\r\n        this._subscribers = [];\r\n    }\r\n\r\n    /**\r\n     * Wordt gebruikt om de rest van de attributen in te laden\r\n     * @param naam string\r\n     * @param type string\r\n     * @param geojson GeoJson\r\n     */\r\n    setSecondProperties(naam, type, geojson){\r\n        this._type = type;\r\n        this._naam = naam;\r\n        this._geoJson = geojson;\r\n\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    getNaam(){\r\n        return this._naam;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getType(){\r\n        return this._type;\r\n    }\r\n\r\n    getGeoJson(){\r\n        return this._geoJson;\r\n    }\r\n\r\n    upDateSubScribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Geeft een feature object terug met zichzelf en geojson\r\n     * @returns {{geometry: GeoJson, type: string, properties: Resultaat}}\r\n     */\r\n    getAsFeature(){\r\n        return  {\r\n            type: \"Feature\",\r\n            properties: this,\r\n            geometry: this.getGeoJson()\r\n        }\r\n    }\r\n}\r\n\r\nexport default Resultaat;","import getIndexOfClasses from \"../allClasses\";\r\nimport Resultaat from \"../../model/Resultaat\";\r\nimport * as wellKnown from 'wellknown'\r\n\r\n/**\r\n * Dit is het laatst ingetype string. zorgt ervoor dat je niet vorige resultaten rendert\r\n * @type {string}\r\n */\r\nlet latestString = \"\";\r\n\r\n/**\r\n * Vind een match. Dit zoekt op exact en contains.\r\n * Als je het opnieuw wilt implementeren moet deze er in blijven.\r\n * Je zal een string krijgen die door de gebruiker ingetypte search query bevat.\r\n *\r\n * @param text de geschreven text.\r\n * @returns {Promise<string|undefined>} Undefined wanneer de fetch request veroudert is en een array met Resultaat.js als\r\n * de query nog niet veroudert is, Kan ook de string \"error\" terug krijgen. Dit is wanneer er een netwerk error is.\r\n */\r\nexport async function getMatch(text) {\r\n    //update eerst de laatst ingetype string\r\n    latestString = text;\r\n\r\n    //doe hierna 2 queries. Eentje voor exacte match\r\n\r\n    // let exactMatch = await queryPDOK(nameQueryExactMatchPDOK(firstLetterCapital(text)));\r\n    let exactMatch = await queryPDOK(nameQueryExactMatchPDOK(firstLetterCapital(text)));\r\n    //zet deze om in een array met Resultaat.js\r\n    exactMatch = await exactMatch.text();\r\n    exactMatch = makeSearchScreenResults(JSON.parse(exactMatch));\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (exactMatch.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //Doe hierna nog een query voor dingen die op de ingetypte string lijken.\r\n    let result = await queryPDOK(nameQueryForRegexMatch(text));\r\n\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (result.status > 300) {\r\n        return \"error\";\r\n    }\r\n\r\n    //zet netwerk res om in een array met Resultaat.js\r\n    result = await result.text();\r\n    result = makeSearchScreenResults(JSON.parse(result));\r\n\r\n    //voeg de arrays samen.\r\n    return mergeResults(exactMatch, result);\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @returns {Promise<void>}\r\n */\r\nexport async function getAllAttribtes(clickedRes) {\r\n    /**\r\n     * Haal alle attributen van\r\n     */\r\n    let url = clickedRes.getUrl();\r\n\r\n    let res = await queryPDOK(allAttributesFromUrl(url));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let nodes = res.results.bindings;\r\n\r\n    let naam;\r\n    let naamNl;\r\n    let naamFries;\r\n    let naamOfficieel;\r\n    let types = [];\r\n    let overigeAttributen = [];\r\n\r\n    console.log(nodes);\r\n\r\n    /**\r\n     * Ga langs elk attribuut en voeg deze toe aan de correct attribuut\r\n     */\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        let key = stripUrlToType(nodes[i].prd.value);\r\n        let value = nodes[i].obj.value;\r\n\r\n        if (key === \"naam\" || key === \"brugnaam\" || key === \"tunnelnaam\" || key === \"sluisnaam\" || key === \"knooppuntnaam\") {\r\n            if(key !== \"naam\"){\r\n                value = value.replace(/\\|/g, \"\");\r\n            }\r\n\r\n            naam = value;\r\n        } else if (key === \"naamNL\") {\r\n            naamNl = value;\r\n        } else if (key === \"naamFries\") {\r\n            naamFries = value;\r\n        } else if (key === \"type\") {\r\n            types.push((stripUrlToType(value)));\r\n        } else if (key === \"naamOfficieel\") {\r\n            naamOfficieel = value.replace(/\\|/g, \"\");\r\n        } else {\r\n            let formattedKey;\r\n\r\n            if(key === \"isBAGwoonplaats\"){\r\n                formattedKey = \"BAG-woonplaats\";\r\n            }else{\r\n                formattedKey = seperateUpperCase(key)\r\n            }\r\n\r\n            if (key === \"soortnaam\" || key === \"isBAGwoonplaats\" || key === \"bebouwdeKom\" || key === \"aantalinwoners\" || key === \"getijdeinvloed\"\r\n                || key === \"hoofdafwatering\" || key === \"isBAGnaam\" || key === \"elektrificatie\" || key === \"gescheidenRijbaan\") {\r\n\r\n                if (key !== \"aantalinwoners\" && key !== \"soortnaam\") {\r\n                    value = veranderNaarJaNee(value);\r\n                }\r\n                overigeAttributen.unshift({key: (formattedKey), value: value});\r\n            } else {\r\n                overigeAttributen.push({key: (formattedKey), value: value});\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sorteer types van subclass naar hoofdclass\r\n     * @type {array van types}\r\n     */\r\n    let indexes = [];\r\n    for (let i = 0; i < types.length; i++) {\r\n        let index = getIndexOfClasses(types[i]);\r\n        let value = seperateUpperCase(types[i]);\r\n        indexes.push({index: index, type: value});\r\n    }\r\n\r\n    /**\r\n     * Laad de attributen in de clicked res\r\n     */\r\n    clickedRes.loadInAttributes(naam, naamOfficieel, naamNl, naamFries, [indexes[0].type], overigeAttributen);\r\n}\r\n\r\n/**\r\n * Verandert een 1 en 0 naar ja en nee.\r\n * @param string\r\n * @returns {string}\r\n */\r\nfunction veranderNaarJaNee(string) {\r\n    if (string === \"1\") {\r\n        return \"ja\";\r\n    }\r\n    return \"nee\";\r\n}\r\n\r\n/**\r\n * Seperate de string gebasseerd op uppercase.\r\n * @param string\r\n * @returns {string}\r\n */\r\nfunction seperateUpperCase(string) {\r\n    string = string.split(/(?=[A-Z])/);\r\n    string.forEach((res, index, arr) => {\r\n\r\n            if (index !== 0) {\r\n                arr[index] = arr[index].charAt(0).toLowerCase() + arr[index].slice(1)\r\n            }\r\n        }\r\n    )\r\n\r\n    return string.join(\" \");\r\n}\r\n\r\n/**\r\n * Haalt alles voor de # weg\r\n * @param url\r\n * @returns {*|void|string}\r\n */\r\nfunction stripUrlToType(url) {\r\n    return url.replace(/.*#/, \"\");\r\n}\r\n\r\n/**\r\n * maakt van een lijst van Result.js objecten uit de sparql query.\r\n * @param results\r\n * @returns {[]}\r\n */\r\nfunction makeSearchScreenResults(results) {\r\n    results = results.results.bindings;\r\n    let returnObject = [];\r\n\r\n    for (let i = 0; i < results.length; i++) {\r\n        //krijg eerst de uri.\r\n        let resultaatObj = new Resultaat(results[i].obj.value);\r\n\r\n        //hierna query specifiek op deze uri\r\n        queryPDOK(queryForType(resultaatObj.getUrl())).then(async (resOr) => {\r\n            resOr = await resOr.text();\r\n\r\n            resOr = JSON.parse(resOr);\r\n            resOr = resOr.results.bindings;\r\n\r\n            //als er resultaten zijn\r\n            if (resOr.length !== 0) {\r\n                let res = resOr[0];\r\n\r\n                let naamPlaats;\r\n                let type;\r\n                let geojson;\r\n\r\n                if(res.brugnaam || res.tunnelnaam || res.sluisnaam || res.knooppuntnaam){\r\n                    if(res.brugnaam){\r\n                        naamPlaats = res.brugnaam.value;\r\n                    }else if(res.tunnelnaam){\r\n                        naamPlaats = res.tunnelnaam.value;\r\n                    }else if(res.sluisnaam){\r\n                        naamPlaats = res.sluisnaam.value;\r\n                    }else{\r\n                        naamPlaats = res.knooppuntnaam.value;\r\n                    }\r\n\r\n                    naamPlaats = naamPlaats.replace(/\\|/g, \"\");\r\n                }else if (res.naamFries && res.naamFries.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n                    //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n                    naamPlaats = res.naamFries.value;\r\n                } else if (res.naamNl && res.naamNl.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    naamPlaats = res.naamNl.value;\r\n                } else if (res.naam && res.naam.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    naamPlaats = res.naam.value;\r\n                } else {\r\n                    if (res.naam) {\r\n                        naamPlaats = res.naam.value;\r\n                    } else if (res.naamNl) {\r\n                        naamPlaats = res.naamNl.value;\r\n                    } else if (res.naamFries) {\r\n                        naamPlaats = res.naamFries.value;\r\n                    }\r\n                }\r\n\r\n                //krijg de type\r\n                if (res.type !== undefined) {\r\n                    let indexes = [];\r\n\r\n                    //sorteer dit op basis van relevantie.\r\n                    for (let j = 0; j < resOr.length; j++) {\r\n                        let value = stripUrlToType(resOr[j].type.value);\r\n                        let index = getIndexOfClasses(value);\r\n                        indexes.push({index: index, type: value});\r\n                    }\r\n\r\n                    indexes.sort((a, b) => {\r\n                        return a.index - b.index;\r\n                    })\r\n\r\n\r\n                    let value = indexes[0].type;\r\n                    type = seperateUpperCase(value);\r\n                }\r\n\r\n                //de wkt naar geojson\r\n                if (res.wktJson !== undefined) {\r\n                    let wktJson = res.wktJson.value;\r\n                    geojson = wellKnown.parse(wktJson);\r\n                }\r\n\r\n                //zet secundaire properties/\r\n                resultaatObj.setSecondProperties(naamPlaats, type, geojson);\r\n            } else {\r\n                console.log(\"error: \", resOr, resultaatObj);\r\n            }\r\n\r\n        });\r\n\r\n        returnObject.push(resultaatObj);\r\n    }\r\n\r\n    return returnObject;\r\n}\r\n\r\n/**\r\n * Verander elk eerste letter naar een hoofdletter\r\n * @param text\r\n * @returns {string}\r\n */\r\nfunction firstLetterCapital(text) {\r\n    return text.toLowerCase()\r\n        .split(' ')\r\n        .map(s => {\r\n            if (!s.startsWith(\"ij\")) {\r\n                return s.charAt(0).toUpperCase() + s.substring(1)\r\n            } else {\r\n                return s.charAt(0).toUpperCase() + s.charAt(1).toUpperCase() + s.substring(2)\r\n            }\r\n        })\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Voeg resultaten samen\r\n * @param exact\r\n * @param regex\r\n * @returns {any[] | string}\r\n */\r\nfunction mergeResults(exact, regex) {\r\n    exact.forEach(resexact => {\r\n            regex = regex.filter(resregex => {\r\n                return resexact.getUrl() !== resregex.getUrl();\r\n            });\r\n        }\r\n    );\r\n\r\n    return exact.concat(regex);\r\n}\r\n\r\nfunction nameQueryExactMatchPDOK(query) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct * WHERE {\r\n              {?obj brt:naamNL \"${query}\"@nl.} union {?obj brt:naam \"${query}\"@nl.} union {?obj brt:naamFries \"${query}\"@fy.} UNION {?obj brt:brugnaam \"${query}\"@nl}  UNION {?obj brt:tunnelnaam \"${query}\"@nl} UNION {?obj brt:sluisnaam \"${query}\"@nl} UNION {?obj brt:knooppuntnaam \"${query}\"@nl} UNION {?obj brt:naamOfficieel  \"${query}\"@nl} UNION {?obj brt:naamOfficieel  \"${query}\"@fy}\r\n            }\r\n             LIMIT 990\r\n`\r\n}\r\n\r\nfunction nameQueryForRegexMatch(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct ?obj WHERE {\r\n            { ?obj brt:naam ?label } UNION { ?obj brt:naamNL ?label } UNION {?obj brt:naamFries ?label} UNION {?obj brt:brugnaam ?label}  UNION {?obj brt:tunnelnaam ?label} UNION {?obj brt:sluisnaam ?label} UNION {?obj brt:knooppuntnaam ?label} UNION {?obj brt:naamOfficieel ?label}.\r\n              \r\n              FILTER(REGEX(?label, \"${queryString}\", \"i\")).\r\n            }\r\n            LIMIT 31\r\n            `\r\n}\r\n\r\nfunction queryForType(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n\r\n            SELECT distinct * WHERE {\r\n               <${queryString}> a ?type\r\n             \r\n              Optional{<${queryString}> brt:naam ?naam.}.\r\n              Optional{<${queryString}> brt:naamNL ?naamNl.}.\r\n              Optional{<${queryString}> brt:naamFries ?naamFries}.\r\n              Optional{<${queryString}> brt:knooppuntnaam ?knooppuntnaam.}.\r\n              Optional{<${queryString}> brt:sluisnaam ?sluisnaam.}.\r\n              Optional{<${queryString}> brt:tunnelnaam ?tunnelnaam}.\r\n              Optional{<${queryString}> brt:brugnaam ?brugnaam.}.\r\n              Optional{<${queryString}> geo:hasGeometry/geo:asWKT ?wktJson}.       \r\n            }`\r\n}\r\n\r\nfunction allAttributesFromUrl(namedNode) {\r\n    return `PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n\r\n            SELECT * WHERE {\r\n                <${namedNode}> ?prd ?obj.\r\n            }`\r\n}\r\n\r\nasync function queryPDOK(query) {\r\n    let result = await fetch(\"https://data.pdok.nl/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n\r\n    return result;\r\n}","/**\r\n * Verander elk eerste letter naar een hoofdletter\r\n * @param text\r\n * @returns {string}\r\n */\r\nexport function firstLetterCapital(text) {\r\n    return text.toLowerCase()\r\n        .split(' ')\r\n        .map(s => {\r\n            if (!s.startsWith(\"ij\")) {\r\n                return s.charAt(0).toUpperCase() + s.substring(1)\r\n            } else {\r\n                return s.charAt(0).toUpperCase() + s.charAt(1).toUpperCase() + s.substring(2)\r\n            }\r\n        })\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Haalt alles voor de # weg\r\n * @param url\r\n * @returns {*|void|string}\r\n */\r\nexport function stripUrlToType(url) {\r\n    return url.replace(/.*#/, \"\");\r\n}\r\n\r\n/**\r\n * Seperate de string gebasseerd op uppercase.\r\n * @param string\r\n * @returns {string}\r\n */\r\nexport function seperateUpperCase(string) {\r\n    string = string.split(/(?=[A-Z])/);\r\n    string.forEach((res, index, arr) => {\r\n\r\n            if (index !== 0) {\r\n                arr[index] = arr[index].charAt(0).toLowerCase() + arr[index].slice(1)\r\n            }\r\n        }\r\n    )\r\n\r\n    return string.join(\" \");\r\n}\r\n\r\n/**\r\n * Verandert een 1 en 0 naar ja en nee.\r\n * @param string\r\n * @returns {string}\r\n */\r\nexport function veranderNaarJaNee(string) {\r\n    if (string === \"1\") {\r\n        return \"ja\";\r\n    }\r\n    return \"nee\";\r\n}\r\n\r\n","import Resultaat from \"../../model/Resultaat\";\r\nimport * as wellKnown from 'wellknown'\r\nimport getIndexOfClasses from '../allClasses'\r\nimport {firstLetterCapital, seperateUpperCase, stripUrlToType, veranderNaarJaNee} from '../ReformatMethods'\r\n\r\n/**\r\n * Dit is het laatst ingetype string. zorgt ervoor dat je niet vorige resultaten rendert\r\n * @type {string}\r\n */\r\nlet latestString = \"\";\r\n\r\n/**\r\n * Vind een match. Dit zoekt op exact en contains.\r\n * Als je het opnieuw wilt implementeren moet deze er in blijven.\r\n * Je zal een string krijgen die door de gebruiker ingetypte search query bevat.\r\n *\r\n * @param text de geschreven text.\r\n * @returns {Promise<string|undefined>} Undefined wanneer de fetch request veroudert is en een array met Resultaat.js als\r\n * de query nog niet veroudert is, Kan ook de string \"error\" terug krijgen. Dit is wanneer er een netwerk error is.\r\n */\r\nexport async function getMatch(text) {\r\n    //update eerst de laatst ingetype string\r\n    latestString = text;\r\n\r\n    //doe hierna 2 queries. Eentje voor exacte match\r\n\r\n    // let exactMatch = await queryPDOK(nameQueryExactMatchPDOK(firstLetterCapital(text)));\r\n    let exactMatch = await queryTriply(nameQueryExactMatch(firstLetterCapital(text)));\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (exactMatch.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //zet deze om in een array met Resultaat.js\r\n    exactMatch = await exactMatch.text();\r\n    exactMatch = makeSearchScreenResults(JSON.parse(exactMatch));\r\n\r\n\r\n    //Doe hierna nog een query voor dingen die op de ingetypte string lijken.\r\n    let result = await queryTriply(nameQueryForRegexMatch(text));\r\n\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (result.status > 300) {\r\n        return \"error\";\r\n    }\r\n\r\n    //zet netwerk res om in een array met Resultaat.js\r\n    result = await result.text();\r\n    result = makeSearchScreenResults(JSON.parse(result));\r\n\r\n    //voeg de arrays samen.\r\n    return mergeResults(exactMatch, result);\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @returns {Promise<void>}\r\n */\r\nexport async function getAllAttribtes(clickedRes) {\r\n    /**\r\n     * Haal alle attributen van\r\n     */\r\n    let url = clickedRes.getUrl();\r\n\r\n    let res = await queryTriply(allAttributesFromUrl(url));\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n\r\n    let nodes = res.results.bindings;\r\n\r\n    let naam;\r\n    let naamNl;\r\n    let naamFries;\r\n    let naamOfficieel;\r\n    let types = [];\r\n    let overigeAttributen = [];\r\n\r\n    /**\r\n     * Ga langs elk attribuut en voeg deze toe aan de correct attribuut\r\n     */\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        let key = stripUrlToType(nodes[i].prd.value);\r\n        let value = nodes[i].obj.value;\r\n\r\n        if (key === \"naam\" || key === \"brugnaam\" || key === \"tunnelnaam\" || key === \"sluisnaam\" || key === \"knooppuntnaam\") {\r\n            if(key !== \"naam\"){\r\n                value = value.replace(/\\|/g, \"\");\r\n            }\r\n\r\n            naam = value;\r\n        } else if (key === \"naamNL\") {\r\n            naamNl = value;\r\n        } else if (key === \"naamFries\") {\r\n            naamFries = value;\r\n        } else if (key === \"type\") {\r\n            types.push((stripUrlToType(value)));\r\n        } else if (key === \"naamOfficieel\") {\r\n            naamOfficieel = value.replace(/\\|/g, \"\");\r\n        } else {\r\n            let formattedKey;\r\n\r\n            if(key === \"isBAGwoonplaats\"){\r\n                formattedKey = \"BAG-woonplaats\";\r\n            }else{\r\n                formattedKey = seperateUpperCase(key)\r\n            }\r\n\r\n            if (key === \"soortnaam\" || key === \"isBAGwoonplaats\" || key === \"bebouwdeKom\" || key === \"aantalinwoners\" || key === \"getijdeinvloed\"\r\n                || key === \"hoofdafwatering\" || key === \"isBAGnaam\" || key === \"elektrificatie\" || key === \"gescheidenRijbaan\") {\r\n\r\n                if (key !== \"aantalinwoners\" && key !== \"soortnaam\") {\r\n                    value = veranderNaarJaNee(value);\r\n                }\r\n                overigeAttributen.unshift({key: (formattedKey), value: value});\r\n            } else {\r\n                overigeAttributen.push({key: (formattedKey), value: value});\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sorteer types van subclass naar hoofdclass\r\n     * @type {array van types}\r\n     */\r\n    let indexes = [];\r\n    for (let i = 0; i < types.length; i++) {\r\n        let index = getIndexOfClasses(types[i]);\r\n        let value = seperateUpperCase(types[i]);\r\n        indexes.push({index: index, type: value});\r\n    }\r\n\r\n\r\n    indexes.sort((a, b) => {\r\n        return a.index - b.index;\r\n    })\r\n\r\n    /**\r\n     * Laad de attributen in de clicked res\r\n     */\r\n    clickedRes.loadInAttributes(naam, naamOfficieel, naamNl, naamFries, [indexes[0].type], overigeAttributen);\r\n}\r\n\r\n\r\n\r\n/**\r\n * maakt van een lijst van Result.js objecten uit de sparql query.\r\n * @param results\r\n * @returns {[]}\r\n */\r\nfunction makeSearchScreenResults(results) {\r\n    results = results.results.bindings;\r\n    let returnObject = [];\r\n\r\n    for (let i = 0; i < results.length; i++) {\r\n        //krijg eerst de uri.\r\n        let resultaatObj = new Resultaat(results[i].obj.value);\r\n\r\n        //hierna query specifiek op deze uri\r\n        queryTriply(queryForType(resultaatObj.getUrl())).then(async (resOr) => {\r\n            resOr = await resOr.text();\r\n\r\n            resOr = JSON.parse(resOr);\r\n            resOr = resOr.results.bindings;\r\n\r\n            //als er resultaten zijn\r\n            if (resOr.length !== 0) {\r\n                let res = resOr[0];\r\n\r\n                let naamPlaats;\r\n                let type;\r\n                let geojson;\r\n\r\n                if(res.brugnaam || res.tunnelnaam || res.sluisnaam || res.knooppuntnaam){\r\n                    if(res.brugnaam){\r\n                        naamPlaats = res.brugnaam.value;\r\n                    }else if(res.tunnelnaam){\r\n                        naamPlaats = res.tunnelnaam.value;\r\n                    }else if(res.sluisnaam){\r\n                        naamPlaats = res.sluisnaam.value;\r\n                    }else{\r\n                        naamPlaats = res.knooppuntnaam.value;\r\n                    }\r\n\r\n                    naamPlaats = naamPlaats.replace(/\\|/g, \"\");\r\n                }else if (res.naamFries && res.naamFries.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n                    //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n                    naamPlaats = res.naamFries.value;\r\n                } else if (res.naamNl && res.naamNl.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    naamPlaats = res.naamNl.value;\r\n                } else if (res.naam && res.naam.value.toUpperCase().includes(latestString.toUpperCase())) {\r\n                    naamPlaats = res.naam.value;\r\n                } else {\r\n                    if (res.naam) {\r\n                        naamPlaats = res.naam.value;\r\n                    } else if (res.naamNl) {\r\n                        naamPlaats = res.naamNl.value;\r\n                    } else if (res.naamFries) {\r\n                        naamPlaats = res.naamFries.value;\r\n                    }\r\n                }\r\n\r\n                //krijg de type\r\n                if (res.type !== undefined) {\r\n                    let indexes = [];\r\n\r\n                    //sorteer dit op basis van relevantie.\r\n                    for (let j = 0; j < resOr.length; j++) {\r\n                        let value = stripUrlToType(resOr[j].type.value);\r\n                        let index = getIndexOfClasses(value);\r\n                        indexes.push({index: index, type: value});\r\n                    }\r\n\r\n                    indexes.sort((a, b) => {\r\n                        return a.index - b.index;\r\n                    })\r\n\r\n\r\n                    let value = indexes[0].type;\r\n                    type = seperateUpperCase(value);\r\n                }\r\n\r\n                //de wkt naar geojson\r\n                if (res.wktJson !== undefined) {\r\n                    let wktJson = res.wktJson.value;\r\n                    geojson = wellKnown.parse(wktJson);\r\n                }\r\n\r\n                //zet secundaire properties/\r\n                resultaatObj.setSecondProperties(naamPlaats, type, geojson);\r\n            } else {\r\n                console.log(\"error: \", resOr, resultaatObj);\r\n            }\r\n\r\n        });\r\n\r\n        returnObject.push(resultaatObj);\r\n    }\r\n\r\n    return returnObject;\r\n}\r\n\r\n/**\r\n * Voeg resultaten samen\r\n * @param exact\r\n * @param regex\r\n * @returns {any[] | string}\r\n */\r\nfunction mergeResults(exact, regex) {\r\n    exact.forEach(resexact => {\r\n            regex = regex.filter(resregex => {\r\n                return resexact.getUrl() !== resregex.getUrl();\r\n            });\r\n        }\r\n    );\r\n\r\n    return exact.concat(regex);\r\n}\r\n\r\nasync function queryTriply(query) {\r\n    let result = await fetch(\"https://api.kadaster.triply.cc/datasets/kadaster/brt/services/brt/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nfunction nameQueryExactMatch(query) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct * WHERE {\r\n              {?obj brt:naamNL \"${query}\".} union {?obj brt:naam \"${query}\".} union {?obj brt:naamFries \"${query}\".} UNION {?obj brt:brugnaam \"|${query}|\"}  UNION {?obj brt:tunnelnaam \"|${query}|\"} UNION {?obj brt:sluisnaam \"|${query}|\"} UNION {?obj brt:knooppuntnaam \"|${query}|\"} UNION {?obj brt:naamOfficieel  \"|${query}|\"}.\r\n            }\r\n`\r\n}\r\n\r\nfunction nameQueryForRegexMatch(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            \r\n            SELECT distinct ?obj WHERE {\r\n            { ?obj brt:naam ?label } UNION { ?obj brt:naamNL ?label } UNION {?obj brt:naamFries ?label} UNION {?obj brt:brugnaam ?label}  UNION {?obj brt:tunnelnaam ?label} UNION {?obj brt:sluisnaam ?label} UNION {?obj brt:knooppuntnaam ?label} UNION {?obj brt:naamOfficieel ?label}.\r\n              \r\n              FILTER(REGEX(?label, \"${queryString}\", \"i\")).\r\n            }\r\n            LIMIT 31\r\n            `\r\n}\r\n\r\nfunction queryForType(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n\r\n            SELECT distinct * WHERE {\r\n               <${queryString}> a ?type\r\n             \r\n              Optional{<${queryString}> brt:naam ?naam.}.\r\n              Optional{<${queryString}> brt:naamNL ?naamNl.}.\r\n              Optional{<${queryString}> brt:naamFries ?naamFries}.\r\n              Optional{<${queryString}> brt:knooppuntnaam ?knooppuntnaam.}.\r\n              Optional{<${queryString}> brt:sluisnaam ?sluisnaam.}.\r\n              Optional{<${queryString}> brt:tunnelnaam ?tunnelnaam}.\r\n              Optional{<${queryString}> brt:brugnaam ?brugnaam.}.\r\n              Optional{<${queryString}> geo:hasGeometry/geo:asWKT ?wktJson}.       \r\n            }`\r\n}\r\n\r\nfunction allAttributesFromUrl(namedNode) {\r\n    return `PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n\r\n            SELECT * WHERE {\r\n                <${namedNode}> ?prd ?obj.\r\n            }`\r\n}\r\n","import Resultaat from \"../../model/Resultaat\";\r\nimport getIndexOfClasses from \"../allClasses\";\r\nimport * as wellKnown from \"wellknown\";\r\nimport {stripUrlToType, seperateUpperCase} from \"../ReformatMethods\";\r\n\r\nexport async function getFromCoordinates(lat, long, top, left, bottom, right) {\r\n    if (right - left > 0.1 || top - bottom > 0.0625) {\r\n        left = long - 0.01;\r\n        right = long + 0.01;\r\n        top = lat + 0.0300;\r\n        bottom = lat - 0.0300;\r\n    }\r\n\r\n    let exactMatch = await queryTriply(queryForCoordinates(top, left, bottom, right));\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (exactMatch.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //zet deze om in een array met Resultaat.js\r\n    exactMatch = await exactMatch.text();\r\n    exactMatch = makeSearchScreenResults(JSON.parse(exactMatch));\r\n\r\n    if (exactMatch.length > 90) {\r\n        return exactMatch;\r\n    }\r\n\r\n    // let exactMatch2 = await queryTriply(queryForCoordinates(lat + 0.0500, long - 0.017, lat - 0.0500, long + 0.017));\r\n    //\r\n    // if (exactMatch2.status > 300) {\r\n    //     //bij een network error de string error\r\n    //     return exactMatch;\r\n    // }\r\n    //\r\n    // //zet deze om in een array met Resultaat.js\r\n    // exactMatch2 = await exactMatch2.text();\r\n    // exactMatch2 = makeSearchScreenResults(JSON.parse(exactMatch2));\r\n\r\n    return exactMatch;\r\n}\r\n\r\nfunction makeSearchScreenResults(results) {\r\n    results = results.results.bindings;\r\n    let returnObject = [];\r\n\r\n    for (let i = 0; i < results.length; i++) {\r\n        //krijg eerst de uri.\r\n        let resultaatObj = new Resultaat(results[i].obj.value);\r\n\r\n        //hierna query specifiek op deze uri\r\n        queryTriply(queryForType(resultaatObj.getUrl())).then(async (resOr) => {\r\n            resOr = await resOr.text();\r\n\r\n            resOr = JSON.parse(resOr);\r\n            resOr = resOr.results.bindings;\r\n\r\n            //als er resultaten zijn\r\n            if (resOr.length !== 0) {\r\n                let res = resOr[0];\r\n\r\n                let naamPlaats;\r\n                let type;\r\n                let geojson;\r\n\r\n                if (res.brugnaam || res.tunnelnaam || res.sluisnaam || res.knooppuntnaam) {\r\n                    if (res.brugnaam) {\r\n                        naamPlaats = res.brugnaam.value;\r\n                    } else if (res.tunnelnaam) {\r\n                        naamPlaats = res.tunnelnaam.value;\r\n                    } else if (res.sluisnaam) {\r\n                        naamPlaats = res.sluisnaam.value;\r\n                    } else {\r\n                        naamPlaats = res.knooppuntnaam.value;\r\n                    }\r\n\r\n                    naamPlaats = naamPlaats.replace(/\\|/g, \"\");\r\n                } else if (res.naamFries) {\r\n                    //kijk of het resultaat niet undefined is. Kijk ook of het gezochte string een deel van de naam bevat.\r\n                    //Dit heb je nodig want bijvoorbeeld bij frieze namen moet de applicatie de frieze naam laten zien.\r\n                    naamPlaats = res.naamFries.value;\r\n                } else if (res.naamNl) {\r\n                    naamPlaats = res.naamNl.value;\r\n                } else if (res.naam) {\r\n                    naamPlaats = res.naam.value;\r\n                } else {\r\n                    if (res.naam) {\r\n                        naamPlaats = res.naam.value;\r\n                    } else if (res.naamNl) {\r\n                        naamPlaats = res.naamNl.value;\r\n                    } else if (res.naamFries) {\r\n                        naamPlaats = res.naamFries.value;\r\n                    }\r\n                }\r\n\r\n                //krijg de type\r\n                if (res.type !== undefined) {\r\n                    let indexes = [];\r\n\r\n                    //sorteer dit op basis van relevantie.\r\n                    for (let j = 0; j < resOr.length; j++) {\r\n                        let value = stripUrlToType(resOr[j].type.value);\r\n                        let index = getIndexOfClasses(value);\r\n                        indexes.push({index: index, type: value});\r\n                    }\r\n\r\n                    indexes.sort((a, b) => {\r\n                        return a.index - b.index;\r\n                    })\r\n\r\n\r\n                    let value = indexes[0].type;\r\n                    type = seperateUpperCase(value);\r\n                }\r\n\r\n                //de wkt naar geojson\r\n                if (res.wktJson !== undefined) {\r\n                    let wktJson = res.wktJson.value;\r\n                    geojson = wellKnown.parse(wktJson);\r\n                }\r\n\r\n                //zet secundaire properties/\r\n                resultaatObj.setSecondProperties(naamPlaats, type, geojson);\r\n            } else {\r\n                console.log(\"error: \", resOr, resultaatObj);\r\n            }\r\n\r\n        });\r\n\r\n        returnObject.push(resultaatObj);\r\n    }\r\n\r\n    return returnObject;\r\n}\r\n\r\nfunction queryForType(queryString) {\r\n    return `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n            PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n\r\n            SELECT distinct * WHERE {\r\n               <${queryString}> a ?type\r\n             \r\n              Optional{<${queryString}> brt:naam ?naam.}.\r\n              Optional{<${queryString}> brt:naamNL ?naamNl.}.\r\n              Optional{<${queryString}> brt:naamFries ?naamFries}.\r\n              Optional{<${queryString}> brt:knooppuntnaam ?knooppuntnaam.}.\r\n              Optional{<${queryString}> brt:sluisnaam ?sluisnaam.}.\r\n              Optional{<${queryString}> brt:tunnelnaam ?tunnelnaam}.\r\n              Optional{<${queryString}> brt:brugnaam ?brugnaam.}.\r\n              Optional{<${queryString}> geo:hasGeometry/geo:asWKT ?wktJson}.       \r\n            }`\r\n}\r\n\r\n\r\nfunction queryForCoordinates(top, left, bottom, righ) {\r\n    return `PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n            PREFIX brt: <http://brt.basisregistraties.overheid.nl/def/top10nl#>\r\n\r\n            select distinct ?obj{\r\n            {\r\n                ?obj brt:naam ?label;\r\n                 geo:hasGeometry/geo:asWKT ?xShape.\r\n              } UNION {\r\n                ?obj brt:naamNL ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }UNION {\r\n                ?obj brt:naamFries ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }UNION {\r\n                ?obj brt:naamOfficieel ?label;\r\n                     geo:hasGeometry/geo:asWKT ?xShape.\r\n              }\r\n                BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\r\n                filter(bif:st_intersects(?xShape, ?yShape))\r\n            }\r\n            limit 100\r\n            `\r\n}\r\n\r\nasync function queryTriply(query) {\r\n    let result = await fetch(\"https://api.kadaster.triply.cc/datasets/kadaster/brt/services/brt/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n\r\n    return result;\r\n}","import * as CommunicatorPDOK from './Communicators/CommunicatorPDOK';\r\nimport * as CommunicatorTRIPLY from './Communicators/CommunicatorTRIPLY';\r\nimport * as ClickedCommunicator from './Communicators/ClickedCommunicator';\r\n\r\nlet latestString = \"\";\r\nlet latestMethod = \"\";\r\n\r\nexport function getOptions(){\r\n    return [\r\n        { value: 'tes', text: 'Triply elastic search', description : \"snelste\"},\r\n        { value: 'tsp', text: 'Triply sparql', description : \"snel\"},\r\n        { value: 'psp', text: 'PDOK sparql', description : \"meest actueel\"},\r\n    ];\r\n}\r\n\r\nexport async function getMatch(text, method) {\r\n    latestString = text;\r\n    latestMethod = method;\r\n    let res;\r\n\r\n    if(method === \"tsp\"){\r\n        res = await CommunicatorTRIPLY.getMatch(text);\r\n    }else if(method === \"psp\"){\r\n        res = await CommunicatorPDOK.getMatch(text);\r\n    }else {\r\n        res = await CommunicatorTRIPLY.getMatch(text);\r\n    }\r\n\r\n    if((text === latestString && latestMethod === method) || res === \"error\"){\r\n        return res;\r\n    }else{\r\n        return undefined;\r\n    }\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @returns {Promise<void>}\r\n */\r\nexport async function getAllAttribtes(clickedRes) {\r\n    if(latestMethod === \"tsp\"){\r\n        await CommunicatorTRIPLY.getAllAttribtes(clickedRes);\r\n    }else if(latestMethod === \"psp\"){\r\n        await CommunicatorPDOK.getAllAttribtes(clickedRes);\r\n    }else {\r\n        await CommunicatorTRIPLY.getAllAttribtes(clickedRes);\r\n    }\r\n}\r\n\r\nexport async function getFromCoordinates(lat, long, top, left, bottom, right){\r\n    latestString = undefined;\r\n    latestMethod = \"tsp\";\r\n\r\n    let res = await ClickedCommunicator.getFromCoordinates(lat, long, top, left, bottom, right);\r\n\r\n    if(latestString === undefined){\r\n        return res;\r\n    }else {\r\n        return undefined;\r\n    }\r\n}","import React from 'react';\r\nimport * as Communicator from '../../network/Communicator';\r\n\r\nclass ObjectScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res: undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getNamenGegevens(this.props.clickedResult);\r\n    }\r\n\r\n    /**\r\n     * Alle alle gegevens op van de clickedResult.\r\n     * @param url\r\n     */\r\n    getNamenGegevens = (url) => {\r\n        if (url) {\r\n            Communicator.getAllAttribtes(this.props.clickedResult).then(res => {\r\n                this.setState({\r\n                    res: this.props.clickedResult\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let res = this.state.res;\r\n        let naam;\r\n        let type;\r\n        let tableNamen;\r\n        let tableRest\r\n\r\n        if (res) {\r\n            naam = (<h1>{res.getNaam()}</h1>);\r\n            type = (<h3>{res.getTypeString()}</h3>);\r\n\r\n            let naamNl;\r\n            let naamFries;\r\n            let naamOfficeel;\r\n\r\n            if (res.getNaamFries()) {\r\n                naamFries = (\r\n                    <tr>\r\n                        <td><b>Naam Fries:</b></td>\r\n                        <td>{res.getNaamFries()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if(res.getNaamOfficieel()){\r\n                naamOfficeel = (\r\n                    <tr>\r\n                        <td><b>Naam officieel:</b></td>\r\n                        <td>{res.getNaamOfficieel()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if (res.getNaamNl() || res.getNaamFries() === undefined) {\r\n                naamNl = (\r\n                    <tr>\r\n                        <td><b>Naam Nederlands:</b></td>\r\n                        <td>{res.getNaamNl() ? res.getNaamNl() : res.getNaam()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            tableNamen = (\r\n                <div>\r\n                    <table className=\"namenTable\">\r\n                        <tbody>\r\n                            {naamOfficeel}\r\n                            {naamNl}\r\n                            {naamFries}\r\n                        </tbody>\r\n                    </table>\r\n                    <hr/>\r\n                </div>\r\n            );\r\n\r\n            let attributes = res.getAttributes().map(res => {\r\n                let value = res.value;\r\n\r\n                if(value.startsWith(\"http://\")){\r\n                    value = (<a href={value}>{value}</a>);\r\n                }\r\n\r\n                return (<tr key = {res.key + res.value}>\r\n                    <td>{res.key}</td>\r\n                    <td>{value}</td>\r\n                </tr>)\r\n            })\r\n\r\n            tableRest = (\r\n\r\n                <table className=\"attributeSectionObjectScreen\">\r\n                    <tbody>\r\n                    {attributes}\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"objectScreen\">\r\n                {naam}\r\n                {type}\r\n                {tableNamen}\r\n                {tableRest}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ObjectScreen;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport StartScreen from \"./components/StartScreen\";\r\nimport ResultScreen from \"./components/ResultScreen\";\r\nimport ObjectScreen from \"./components/ObjectScreen\";\r\n\r\nclass Routes extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            <Switch>\r\n                <Route exact path=\"/\" component={StartScreen}/>\r\n                <Route\r\n                    exact path=\"/result\"\r\n                    render={(props) => <ResultScreen res = {this.props.res} onClickItem = {this.props.onClickItem}/>}\r\n                />\r\n\r\n                <Route\r\n                    exact path=\"/result/:id\"\r\n                    render={(props) => <ObjectScreen clickedResult = {this.props.clickedResult}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Routes;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\n/**\r\n * De bar met <-- terug.\r\n */\r\nclass NavBar extends React.Component{\r\n    render() {\r\n        return(\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       render={(props) => <EmptyBar loading = {this.props.loading}/>}\r\n                />\r\n                <Route\r\n                    render={(props) => <BackButton loading = {this.props.loading} onBack = {this.props.onBack}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nfunction EmptyBar(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton  \" + class_}><p>&nbsp;</p></div>\r\n    )\r\n}\r\n\r\nfunction BackButton(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton cursorPointer \" + class_} onClick={props.onBack}><p>&larr; Terug</p></div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport {BarLoader} from \"react-spinners\";\r\n\r\n/**\r\n * Het kleine laadbalke aan de boven kant van het resultaten stukje, en boven de kaart\r\n */\r\nclass Loader extends React.Component{\r\n    render() {\r\n        return(\r\n            <BarLoader\r\n                loading = {this.props.loading}\r\n                width = {\"100%\"}\r\n                color = {\"#6495ED\"}\r\n                height = {4}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","/**\r\n * Houdt resultaat bij. Update de app als er iets verandert.\r\n */\r\nclass ResultatenHouder {\r\n    constructor(){\r\n        this._results = [];\r\n        this._doubleClickedResults = [];\r\n        this._clickedResult = undefined;\r\n\r\n        this._subscribers = [];\r\n    }\r\n\r\n    upDateSubScribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    /**\r\n     * Subscribe aan de resultaten houder.\r\n     * De gesubscribte class moet update implementeren.\r\n     * vergeet ook niet om te unsubscriben.\r\n     * @param subscriber\r\n     */\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Zet een clickedresultaat en subscribe aan deze\r\n     * @param clicked\r\n     */\r\n    setClickedResult(clicked){\r\n        this._clickedResult = clicked;\r\n        this._clickedResult.subscribe(this);\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    getClickedResult(){\r\n        return this._clickedResult;\r\n    }\r\n\r\n    /**\r\n     * undefine de clicked resultaat en unsubscribe\r\n     */\r\n    clearClickedResult(){\r\n        if(this._clickedResult){\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n            this.upDateSubScribers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear alle resultaten en unsubscribe van all deze\r\n     */\r\n    clearAll(){\r\n        if(this._clickedResult){\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n        }\r\n\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._results = [];\r\n\r\n        this._doubleClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._doubleClickedResults = [];\r\n\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setResults(results){\r\n\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this._results = results;\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    getResults(){\r\n        return this._results;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearResults(){\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._results = [];\r\n\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setDoubleResults(results){\r\n\r\n        this._doubleClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        })\r\n\r\n        this._doubleClickedResults = results;\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    getDoubleResults(){\r\n        return this._doubleClickedResults;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearDoubleResults(){\r\n        this._doubleClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        })\r\n\r\n        this._doubleClickedResults = [];\r\n\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    update(){\r\n        this.upDateSubScribers();\r\n    }\r\n\r\n    /**\r\n     * Krijg alle resultaten behalve clicked resultaat als feature terug.\r\n     * @returns {[Feature]}\r\n     */\r\n    getSearchedAllObjectsAsFeature(){\r\n        let geojson = [];\r\n\r\n        this._results.forEach(res => {\r\n            if(res.getGeoJson()) {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        })\r\n        return geojson;\r\n    }\r\n\r\n    getClickedAllObjectsAsFeature(){\r\n        let geojson = [];\r\n\r\n        this._doubleClickedResults.forEach(res => {\r\n            if(res.getGeoJson() && res.getType() !== \"Land\" && res.getType() !== \"Provincie\") {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        })\r\n        return geojson;\r\n    }\r\n}\r\n\r\nexport default ResultatenHouder;","/**\r\n * Het resultaat dat aangeklikt is.\r\n * Kan op twee manieren gegevens in laden. Met de constructor of de methode loadInAttributes.\r\n */\r\nclass ClickedResultaat {\r\n    constructor(res, naam, naamOfficieel, naamNl, naamFries, types, overige){\r\n        this._res = res;\r\n        this._naam = naam;\r\n        this._naamOfficieel = naamOfficieel;\r\n        this._naamNL = naamNl;\r\n        this._naamFries = naamFries;\r\n\r\n        if(types){\r\n            this._types = types;\r\n        }else{\r\n            this._types = [];\r\n        }\r\n\r\n        if (overige) {\r\n            this._overige = overige;\r\n            let url = this._res.getUrl();\r\n            this._overige.unshift({key : \"brt link\",value: url})\r\n        }else{\r\n            this._overige = [];\r\n        }\r\n\r\n        if(this._naam === undefined){\r\n            if(this._naamOfficieel !== undefined){\r\n                this._naam = naamOfficieel;\r\n            }else if(this._naamNL !== undefined){\r\n                this._naam = this._naamNL;\r\n            }else{\r\n                this._naam = this._naamFries;\r\n            }\r\n        }\r\n\r\n        this._subscribers = [];\r\n    }\r\n\r\n    getNaamFries(){\r\n        return this._naamFries;\r\n    }\r\n\r\n    getNaamNl(){\r\n        return this._naamNL;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param naam String\r\n     * @param naamOfficieel String\r\n     * @param naamnl String\r\n     * @param naamfries String\r\n     * @param type array Strings\r\n     * @param overige array {key: string, value: string}\r\n     */\r\n    loadInAttributes(naam, naamOfficieel, naamnl, naamfries, type,  overige){\r\n        this._naam = naam;\r\n        this._naamOfficieel = naamOfficieel;\r\n        this._naamNL = naamnl;\r\n        this._naamFries = naamfries;\r\n        this._types = type;\r\n        this._overige = overige;\r\n\r\n        let url = this._res.getUrl();\r\n        this._overige.unshift({key : \"brt link\",value: url});\r\n\r\n        if(this._naam === undefined){\r\n            if(this._naamOfficieel !== undefined){\r\n                this._naam = this._naamOfficieel;\r\n            }else if(this._naamNL !== undefined){\r\n                this._naam = this._naamNL;\r\n            }else{\r\n                this._naam = this._naamFries;\r\n            }\r\n        }\r\n    }\r\n\r\n    upDateSubScribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    /**\r\n     * Als je wilt subscriben moet je de methode update implementeren.\r\n     * Ook niet vergeten om te unsubscriben.\r\n     * @param subscriber\r\n     */\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n\r\n    getNaamOfficieel(){\r\n        return this._naamOfficieel;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._res.getUrl();\r\n    }\r\n\r\n    getNaam(){\r\n        return this._naam;\r\n    }\r\n\r\n    getAsFeature(){\r\n        return this._res.getAsFeature();\r\n    }\r\n\r\n    getTypeString(){\r\n        return this._types.join(\", \");\r\n    }\r\n\r\n    getAttributes(){\r\n        return this._overige;\r\n    }\r\n}\r\n\r\nexport default ClickedResultaat;","/**\n * Libs\n */\nimport L from \"leaflet\";\nimport React from 'react';\nimport * as turf from '@turf/turf';\n\n/**\n * UI\n */\nimport Routes from './routes/Routes'\nimport {Search, Icon, Dropdown} from 'semantic-ui-react'\nimport NavBar from \"./components/NavBar\";\nimport Loader from \"./components/Loader\"\n\n/**\n * Assets\n */\nimport './App.css';\nimport KadasterImg from './assets/Logo-kadaster.png';\n\n/**\n * Netwerk\n */\nimport *  as Communicator from './network/Communicator' ;\nimport {Link, withRouter, matchPath} from \"react-router-dom\";\n\n/**\n * Model\n */\nimport ResultatenHouder from './model/ResultatenHouder';\nimport ClickedResultaat from \"./model/ClickedResultaat\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchQuery: \"\",\n            isFetching: false,\n            results: new ResultatenHouder(),\n            updateIng: false,\n            currentSelected: \"tsp\"\n        }\n\n        //subscribe aan de resulatatenHouder\n        this.state.results.subscribe(this);\n    }\n\n    /**\n     * Bij comonent did mount de kaart initaliseren en terug naar het hoofdscherm gaan\n     **/\n    componentDidMount() {\n        this.mapInit();\n        this.props.history.push('/');\n    }\n\n    /**\n     * Initeert de kaart.\n     **/\n    mapInit = () => {\n        //opties van de kaart\n        this.map = L.map(\n            'map',\n            {\n                minZoom: 8,\n                center: [52.20936, 5.2],\n                zoom: 8,\n                maxBounds: [\n                    [56, 10],\n                    [49, 0],\n                ]\n            });\n\n        //zet de kaart tile layer aka de brt\n        L.tileLayer('https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png', {\n            attribution: 'Kaartgegevens &copy; <a href=\"https://www.kadaster.nl/\">Kadaster</a> | <a href=\"https://www.verbeterdekaart.nl\">Verbeter de kaart</a> '\n        }).addTo(this.map);\n\n        //Wanneer je dubbelklikt op de kaart krijg dan alle locaties terug er om heen.\n        //TODO werkt nog niet\n        this.map.on('contextmenu', this.handleRightMouseClick);\n\n        //zet de geojson layer en de functies die worden aangeroepen.\n        //On each feature elke geojson object\n        //point to layer bij elke marker\n        this.geoJsonLayer = L.geoJSON([], {\n            onEachFeature: this.handleGeoJsonLayerDrawing,\n            pointToLayer: this.addMarker\n        }).addTo(this.map);\n\n        //de groep voor de markers\n        this.markerGroup = L.featureGroup().addTo(this.map);\n    }\n\n    /**\n     * Handel de dubbel klik.\n     * Als je op de dubbel klikt op de kaart krijg je alle nabije namen.\n     * Moet nog geimplemteert worden.\n     **/\n    handleRightMouseClick = (e) => {\n        let latLong = e.latlng;\n\n        let match = matchPath(this.props.location.pathname, {\n            path: \"/result/:id\",\n            exact: true,\n            strict: true\n        })\n\n        this.setState({\n            searchQuery : \"\"\n        })\n        this.state.results.clearAll();\n\n        if(match){\n            this.props.history.goBack();\n        } else if (this.props.location.pathname !== \"/result\") {\n            this.props.history.push(`/result`);\n        }\n\n        let bounds = this.map.getBounds();\n\n        this.setState({\n            isFetching: true\n        })\n\n        Communicator.getFromCoordinates(latLong.lat, latLong.lng, bounds.getNorth(), bounds.getWest(), bounds.getSouth(), bounds.getEast()).then(res => {\n            if(res === \"error\"){\n\n            }else if(res !== undefined){\n                this.state.results.setDoubleResults(res);\n                this.setState({\n                    isFetching: false\n                })\n            }\n        });\n    }\n\n    /**\n     * De functie die de kaart aanroept elke keer als deze een marker wilt toevoegen.\n     **/\n    addMarker = (feature, latlng) => {\n        let marker = L.marker(latlng).addTo(this.markerGroup);\n\n        //dit is de pop up en de html die tevoorschijn komt.\n        marker.bindPopup(`<div class = \"marker\">\n                    <b>${feature.properties.getNaam()}</b>\n                    <br/>\n                    <span class = \"subTextMarker\">${feature.properties.getType()}</span><div>\n            `, {\n            autoPan: false,\n            closeButton: false\n        });\n\n        //wanner je over de marker gaat laat de pop up zien\n        marker.on('mouseover', function (e) {\n            this.openPopup();\n        });\n\n        //wanneer je er van af gaat laat het weg\n        marker.on('mouseout', function (e) {\n            this.closePopup();\n        });\n\n        //wanneer je er op klikt ga naar die marker\n        marker.on('click', () => {\n            this.onClickItem(feature.properties)\n        });\n    }\n\n    /**\n     * Tekent de objecten op de kaart.\n     **/\n    handleGeoJsonLayerDrawing = (feature, layer) => {\n        if (feature.geometry.type !== 'Point') {\n            //vindt eerst de center\n            var latLong = this.getCenterGeoJson(feature);\n\n            //op deze center voeg een marker toe\n            this.addMarker(feature, latLong);\n\n            //Dit is de pop up die getoond wordt wanneer je over het getekende deel gaat.\n            layer.bindPopup(`<div class = \"marker\">\n                    <b>${feature.properties.getNaam()}</b>\n                    <br/>\n                    <span class = \"subTextMarker\">${feature.properties.getType()}</span><div>\n            `, {\n                autoPan: false,\n                closeButton: false\n            });\n\n            //laat de pop up zien als je erover gaat\n            layer.on('mouseover', function (e) {\n                this.openPopup();\n            });\n\n            //sluit de pop up als je er van af gaat\n            layer.on('mouseout', function (e) {\n                this.closePopup();\n            });\n\n            //als je er op klikt ga er dan naartoe\n            layer.on('click', () => {\n                this.onClickItem(feature.properties)\n            });\n        }\n    }\n\n    /**\n     * Wanneer iemand op een marker of getekend deel klikt, voer deze methode uit.\n     **/\n    onClickItem = (res) => {\n        //maak een nieuwe clickedresultaat\n        let clickedRes = new ClickedResultaat(res);\n\n        //zet de resultatenhouder de clickedresultaat.\n        this.state.results.setClickedResult(clickedRes);\n\n        //krijg de center van de plek waar je naartoe wilt.\n        let center = this.getCenterGeoJson(res.getGeoJson());\n        let zoom = this.map.getZoom();\n\n        //als de gebruiker ingezoomt is, zoom dan niet uit.\n        if (zoom < 10) {\n            zoom = 10;\n        }\n\n        //zet de view.\n        this.map.setView(center, zoom);\n\n        this.props.history.push(`/result/${res.getNaam()}`);\n    }\n\n    /**\n     * Krijg de center van een geojson object.\n     **/\n    getCenterGeoJson = (geojson) => {\n        //kijk eerst naar de center\n        var centroid = turf.center(geojson);\n\n        try {\n            //als deze niet in het geojson object ligt, gebruik dan de centroid\n            if (!turf.booleanContains(geojson, centroid)) {\n                centroid = turf.centroid(geojson);\n            }\n        } catch (e) {\n        }\n\n        //krijg de lat en long\n        var lon = centroid.geometry.coordinates[0];\n        var lat = centroid.geometry.coordinates[1];\n\n        return [lat, lon];\n    }\n\n    /**\n     * Wordt aangeroepen wanneer er iets wordt getype\n     **/\n    onSearchChange = (e, data) => {\n        let text = data.value;\n\n        //als de text iets heef\n        if (text) {\n            //zet dan eerst de state\n            this.setState({\n                searchQuery: text\n            })\n\n            //haal vorige resultaten weg\n            this.state.results.clearClickedResult();\n            this.state.results.clearDoubleResults();\n\n            //roep de methode aan die de zoek functie aanroept\n            this.doSearch(text);\n\n            //Als je op het hoofscherm bent ga dan naar de result screen\n            if (this.props.location.pathname === \"/\") {\n                this.props.history.push('/result')\n\n                //als je niet op het resultaten scherm zit ga dan eentje terug\n            } else if (this.props.location.pathname !== \"/result\") {\n                this.props.history.goBack();\n            }\n        } else {\n            //als de zoekbar text leeg is\n            this.setState({\n                searchQuery: \"\",\n                isFetching : false\n            });\n\n            //verwijder alle resultaten\n            this.state.results.clearAll();\n\n            //ga terug naar het hoofdscherm\n            if (this.props.location.pathname === \"/result\") {\n                this.props.history.goBack();\n            } else if (this.props.location.pathname !== '/') {\n                this.props.history.go(-2);\n            }\n        }\n\n        //centreer de kaart weer.\n        if (this.map) {\n            this.map.setView([52.20936, 5.2], 8);\n        }\n    }\n\n    /**\n     * Roept de communicator aan en haalt de resultaten op.\n     **/\n    doSearch = (text) => {\n        //zet dit op true zodat de loader aan gaat.\n        this.setState({\n            isFetching: true\n        });\n\n        /**\n         * Roep de getMatch functie aan van de communicator\n         **/\n        Communicator.getMatch(text.trim(), this.state.currentSelected).then(res => {\n            //als je een error terug krijgt, dan betekent dat je wel een antwoord hebt maar dat het niet werkt.\n            if (res === \"error\") {\n                this.setState({\n                    isFetching: false\n                })\n\n                //als je undefined terug krijgt betekent het dat het een oude search query is.\n                //Dus als het niet undefined is, betekent dat het het huidige search query is.\n            } else if (res !== undefined) {\n                this.setState({\n                    isFetching: false\n                })\n                this.state.results.setResults(res);\n            }\n        });\n    }\n\n    /**\n     * Wanneer er op het kruisje in de search bar wordt geklikt.\n     **/\n    handleDeleteClick = () => {\n        this.onSearchChange({}, {value: \"\"});\n    }\n\n    /**\n     * Wanneer er op de terug knop wordt geklikt in de applicatie aka <-- terug.\n     **/\n    handleOnBackButtonClick = () => {\n        /**\n         * Kijk of je op een resultaat scherm bent\n         */\n        let match = matchPath(this.props.location.pathname, {\n            path: \"/result/:id\",\n            exact: true,\n            strict: true\n        })\n\n        if(this.state.results.getDoubleResults().length > 1 && !match){\n            this.state.results.clearDoubleResults();\n\n            if(this.state.searchQuery === \"\"){\n                this.props.history.goBack();\n            }\n        }else if (this.props.location.pathname === \"/result\") {\n            //Als je op de result screen bent ga dan terug naar het hoofdscherm\n            this.handleDeleteClick();\n        } else if (match) {\n            //ga eerst een pagina terug\n            this.props.history.goBack();\n\n            //Als je op een geklikte resultaat scherm bent ga dan terug naar de result scherm\n            this.state.results.clearClickedResult();\n\n            //krijg een timeout die je moet wachten voordat je de bounds kan ophalen\n            let timeout = this.getTimeOut() + 10;\n\n            //na deze timout haal de bounds op\n            setTimeout(() => {\n                try {\n                    let bounds = this.markerGroup.getBounds();\n                    let width = bounds.getEast() - bounds.getWest();\n                    let height = bounds.getNorth() - bounds.getSouth();\n\n                    //gebasseerd op breedte en lengte zoom uit\n                    if (width > 1.8 || height > 1.3) {\n                        this.map.fitBounds(this.markerGroup.getBounds());\n                    } else if (width > 1.3 || height > 1.0) {\n                        this.map.fitBounds(this.markerGroup.getBounds().pad(0.5));\n                    } else if (width > 0.1 || height > 0.1) {\n                        this.map.fitBounds(this.markerGroup.getBounds().pad(0.8));\n                    } else if (width > 0.01 || height > 0.01) {\n                        this.map.fitBounds(this.markerGroup.getBounds().pad(5));\n                    }\n\n                    //als het te ver is ingezoomt ga dan iets terug.\n                    if(this.map.getZoom() > 10){\n                        this.map.setZoom(10);\n                    }\n                } catch (e) {console.log(e)};\n            }, timeout);\n        }\n    }\n\n    /**\n     * Krijg een timeout nummer gebasseerd op het aantal resultaten.\n     * @returns {number}\n     */\n    getTimeOut = () => {\n        let timeout = 100;\n        let results = this.state.results;\n\n        if (results.getResults().length > 40 || results.getDoubleResults().length > 1) {\n            timeout = 600;\n        } else if (results.getResults().length > 20) {\n            timeout = 200;\n        } else if (results.getResults().length > 10) {\n            timeout = 100;\n        }\n\n        return timeout;\n    }\n\n    /**\n     * Deze methode wordt aangeropen elke keer als de resultaten houder wordt geupdate.\n     */\n    update = () => {\n        let results = this.state.results;\n\n        this.setState({\n            results: results\n        })\n\n        //updateing variabele kijkt of de kaart nu bezig is met het wachten op updating/\n        if (!this.updateIng) {\n            this.updateIng = true;\n\n            //dit is voor de lader boven op de kaart\n            this.setState({\n                updateIng: true\n            });\n\n            //krijg een timeout ms\n            let timeout;\n\n            if (this.state.results.getClickedResult()) {\n                timeout = 0;\n            } else {\n                timeout = this.getTimeOut();\n            }\n\n            //hierna roep de de settimout aan\n            setTimeout(() => {\n                this.updateMap(results);\n            }, timeout);\n        }\n    }\n\n    dropDownSelector = (e, v) => {\n        if(this.state.currentSelected !== v.value){\n            this.setState({\n                currentSelected : v.value,\n                isFetching : false\n            }, () => {\n                this.handleDeleteClick();\n            })\n        }\n    }\n\n    /**\n     * Update de kaart.\n     **/\n    updateMap = () => {\n        let results = this.state.results;\n\n        //haal eerst alle marker weg\n        this.markerGroup.clearLayers();\n        this.geoJsonLayer.clearLayers();\n\n        //als er een geklikt resultaat is, render dan alleen deze\n        if (this.state.results.getClickedResult()) {\n            let feature = this.state.results.getClickedResult().getAsFeature();\n            this.geoJsonLayer.addData(feature);\n        }else if(this.state.results.getDoubleResults().length > 0){\n            let geoJsonResults = results.getClickedAllObjectsAsFeature();\n            this.geoJsonLayer.addData(geoJsonResults);\n        } else {\n            //anders render alle opgehaalde resultaten.\n            if (this.state.searchQuery) {\n                let geoJsonResults = results.getSearchedAllObjectsAsFeature();\n                this.geoJsonLayer.addData(geoJsonResults);\n            }\n        }\n\n        //zet de updating naar false.\n        this.setState({\n            updateIng: false\n        });\n        this.updateIng = false;\n    }\n\n    render() {\n        const options = Communicator.getOptions();\n\n        let icon;\n        let className;\n\n        if (this.state.searchQuery || this.state.results.getDoubleResults().length > 0) {\n            icon = <Icon name='delete' link onClick={this.handleDeleteClick}/>;\n        } else {\n            icon = <Icon name='search'/>;\n        }\n\n        if (!this.state.updateIng) {\n            className = \"mapHolder\";\n        } else {\n            className = \"mapHolderLoading\"\n        }\n\n        return (\n            <section className=\"App\">\n                <div className=\"brtInfo\">\n                    <Link to=\"/\" onClick={() => {\n                        this.handleDeleteClick();\n                    }}>\n                        <div className=\"header\">\n                            <h1>Basisregistratie Topografie</h1><img src={KadasterImg} alt=\"kadaster logo\"/>\n                        </div>\n                    </Link>\n                    <div className=\"searchBar\">\n                        <Search input={{fluid: true}}\n                                value={this.state.results.getDoubleResults().length > 1 ? \"[ Kaartresultaten worden getoond ]\" : this.state.searchQuery}\n                                noResultsMessage=\"Geen resultaat\"\n                                icon={icon}\n                                onSearchChange={this.onSearchChange}\n                                open={false}\n                                onFocus = {this.handleDeleteClick}\n                        />\n                    </div>\n                    <div className=\"resultsContainer\">\n                        <NavBar\n                            loading={this.state.isFetching}\n                            onBack={this.handleOnBackButtonClick}\n                        />\n                        <div className=\"loaderDiv\">\n                            <Loader\n                                loading={this.state.isFetching}\n                            />\n                        </div>\n                        <div className=\"resultPartContainer\">\n                            <Routes\n                                res={this.state.results}\n                                clickedResult={this.state.results.getClickedResult()}\n                                onClickItem={this.onClickItem}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"footer\">\n                        <Dropdown\n                            className = \"cogIcon\"\n                            icon='cog'\n                            upward = {true}\n                        >\n                            <Dropdown.Menu>\n                                <Dropdown.Header\n                                    content = \"Selecteer end-point\"\n                                />\n                                <Dropdown.Divider\n                                />\n                                {options.map((option) => (\n                                    <Dropdown.Item\n                                        className = \"dropDownItem\"\n                                        key={option.value} {...option}\n                                        active = {this.state.currentSelected === option.value}\n                                        onClick = {this.dropDownSelector}\n                                    />\n                                ))}\n                            </Dropdown.Menu>\n                        </Dropdown>\n                        <a href=\"https://zakelijk.kadaster.nl/brt\">Leer meer over de brt</a>\n                    </div>\n                </div>\n                <div className={className}>\n                    <Loader\n                        loading={this.state.updateIng}\n                    />\n                    <div id=\"map\"/>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}